--- 8 bit discrete BJT processor ---

Harvard architecture
8 bit word size
16 bit program address space (EEPROM)
16 bit working memory (SRAM):
 - 8 bit address width
 - 256 banks (switchable via bank register)
 - Bank 256 reserved for call stack

Registers:
 - 16 bit PC (jk counter with overwrite)
 - 8 bit general purpose/accessible A, B, C
 - 8 bit IR0, IR1, IR2
 - 8 bit SP
 - 8 bit BP
 - 8 bit BANK
 - 8 bit ADDR
 - 4 bit FLAGS

CPU main data path goes only through the ALU.
Registers are not directly connected - register transfers are facilitated by ALU operations, e.g. iadd ra rb 0, which transfers rb to ra.

ALU:
 - Addition
 - Subtraction
 - Bitwise NAND
 - Passthrough (No Op - necessary for immediate mode as a side effect of the ALU being the only datapath between registers)

ISA:
    -- 1 byte instructions --
    stop                            (0x00)

    push    ra                      (0x10)
    ...

    pop     ra                      (0x20)
    ...

    ret                             (0x30)

    -- 2 byte instructions --
    add     ra      rX      rY      (0x40 XY)
    ...

    addc    ra      rX      rY      (0x50 XY)
    ...

    iadd    ra      rX      Y       (0x60 XY)
    ...

    sub     ra      rX      rY      (0x70 XY)
    ...

    subc    ra      rX      rY      (0x80 XY)
    ...

    isub    ra      rX      Y       (0x90 XY)
    ...

    imm     ra      XX              (0xA0 XX)
    ...

    nand    ra      rX      rY      (0xB0 XY)
    ...
    
    cmp     rX      rY              (0xC0 XY)

    -- 3 byte instructions --
    jmp     XXXX                    (0xE0 XX XX)
    jmpz    XXXX                    (0xE1 XX XX)
    jmpn    XXXX                    (0xE2 XX XX)
    jmpc    XXXX                    (0xE4 XX XX)
    jmpo    XXXX                    (0xE8 XX XX)

    call    XXXX                    (0xF0 XX XX)
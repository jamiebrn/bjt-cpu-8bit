--- 8 bit discrete BJT processor ---

Harvard architecture
8 bit word size
16 bit program address space (EEPROM)
16 bit working memory (SRAM):
 - 8 bit address width
 - 256 banks (switchable via bank register)
 - Bank 256 reserved for call stack

Registers:
 - 16 bit PC (jk counter with overwrite)
 - 8 bit general purpose/accessible A, B, C     (0x0, 0x1, 0x2)
 - 8 bit IR0, IR1, IR2
 - 8 bit SP                                     (0xA)
 - 8 bit BP                                     (0xB)
 - 8 bit BANK                                   (0xE)
 - 8 bit ADDR                                   (0xF)
 - 4 bit FLAGS

CPU main data path goes only through the ALU.
Registers are not directly connected - register transfers are facilitated by ALU operations, e.g. iadd ra rb 0, which transfers rb to ra.

ALU:
 - Addition
 - Subtraction
 - Bitwise NAND
 - Passthrough (No Op - necessary for immediate mode due to the ALU being the only datapath between registers)

ISA:
    -- 1 byte instructions --
    stop                            (0x00)

    ret                             (0x01)

    pop     rZ                      (0x2Z)
    ...

    lda     rZ                      (0xFZ)
    ...

    -- 2 byte instructions --
    add     rZ      rX      rY      (0x4Z XY)
    ...

    addc    rZ      rX      rY      (0x5Z XY)
    ...

    iadd    rZ      rX      Y       (0x6Z XY)
    ...

    sub     rZ      rX      rY      (0x7Z XY)
    ...

    subc    rZ      rX      rY      (0x8Z XY)
    ...

    isub    rZ      rX      Y       (0x9Z XY)
    ...

    imm     rZ      XX              (0xAZ XX)
    ...

    nand    rZ      rX      rY      (0xBZ XY)
    ...
    
    cmp     rX      rY              (0x30 XY)

    push    rX                      (0x10 X0)
    ...

    sto     rX                      (0x11 X0)
    ...

    -- 3 byte instructions --
    strl    rZ      YY      rX      (0xCZ 0X YY)

    ldrl    rZ      YY      rX      (0xDZ 0X YY)

    jmp     XXXX                    (0xE0 XX XX)
    jmpz    XXXX                    (0xE1 XX XX)
    jmpn    XXXX                    (0xE2 XX XX)
    jmpc    XXXX                    (0xE4 XX XX)
    jmpo    XXXX                    (0xE8 XX XX)

    call    XXXX                    (0xEA XX XX)